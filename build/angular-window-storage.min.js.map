{"version":3,"sources":["angular-window-storage.js"],"names":["window","angular","module","provider","this","prefix","defaultStorageType","setPrefix","setDefaultStorageType","storageType","$get","$window","$rootScope","$timeout","self","ttlPromises","storage","localStorage","sessionStorage","support","settings","storageTTl","initSettings","substr","e","$broadcast","initStorage","checkSupport","initStorageTTL","localStorageKeys","getKeys","sessionStorageKeys","indexLSK","localStorageKey","storageTtlKey","join","expireTime","get","setTTL","Date","indexSSK","sessionStorageKey","supported","key","deriveQualifiedKey","Math","round","random","setItem","removeItem","message","validateSupport","validateStorageType","type","set","value","ttl","isUndefined","toJson","method","isNumber","remove","i","length","cancel","promise","splice","currentTime","push","item","getItem","fromJson","arguments","allSucceded","keyStartsWith","storageTtlKeyStartsWith","keys","clear","apply","getDefaultStorageType","getPrefix","clearAll","args","Array","prototype","slice","call","$on","bind","clearSessionStorage","clearLocalStorage","getKeysFromSessionStorage","getKeysFromLocalStorage","removeFromSessionStorage","removeFromLocalStorage","getFromSessionStorage","getFromLocalStorage","setToSessionStorage","setToLocalStorage","setTTLToSessionStorage","setTTLToLocalStorage"],"mappings":"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","file":"angular-window-storage.min.js"}