{"version":3,"sources":["angular-window-storage.js"],"names":["window","angular","module","provider","this","prefix","defaultStorageType","setPrefix","setDefaultStorageType","storageType","$get","$window","$rootScope","$timeout","self","ttlPromises","storage","localStorage","sessionStorage","support","settings","storageTTl","initSettings","substr","e","$broadcast","initStorage","checkSupport","initStorageTTL","localStorageKeys","getKeys","sessionStorageKeys","indexLSK","localStorageKey","get","join","setTTL","expireTime","Date","indexSSK","sessionStorageKey","supported","key","deriveQualifiedKey","Math","round","random","setItem","removeItem","message","validateSupport","validateStorageType","type","set","value","ttl","isUndefined","toJson","method","isNumber","remove","storageTtlKey","i","length","cancel","promise","splice","currentTime","push","item","getItem","fromJson","arguments","allSucceded","j","keyStartsWith","storageTtlKeyStartsWith","keys","clear","apply","getDefaultStorageType","getPrefix","clearAll","args","Array","prototype","slice","call","$on","bind","clearSessionStorage","clearLocalStorage","getKeysFromSessionStorage","getKeysFromLocalStorage","removeFromSessionStorage","removeFromLocalStorage","getFromSessionStorage","getFromLocalStorage","setToSessionStorage","setToLocalStorage","setTTLToSessionStorage","setTTLToLocalStorage"],"mappings":"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","file":"angular-window-storage.min.js"}